<div class="z-50" *ngIf="loading$ | async">
  <mat-progress-bar mode="query"></mat-progress-bar>
</div>
<div class="grid grid-col-1 p-5 mt-2 gap-6">
  <div class="p-10 flex justify-between pattern">
    <div class="flex items-center gap-14">
      <img
        class="w-40 h-40 rounded-full"
        mat-card-image
        src="avatar.png"
        alt=""
      />
      <div
        *ngIf="profileDetails$ | async as profileDetails"
        class="flex flex-col"
      >
        <p class="text-2xl">
          {{ profileDetails.firstName }} {{ profileDetails.middleName }}
          {{ profileDetails.lastName }}
        </p>
        <p>Joined Date : {{ profileDetails.startDate | date }}</p>
      </div>
    </div>
    <div>
      <button
        mat-icon-button
        [matMenuTriggerFor]="menu"
        aria-label="Example icon-button with a menu"
      >
        <mat-icon>more_vert</mat-icon>
      </button>
      <mat-menu class="bg-blue-100 custom-menu" #menu="matMenu">
        <button mat-menu-item (click)="onEditProfileDetails(825)">
          <mat-icon>account_circle</mat-icon>
          <span>Edit Profile</span>
        </button>
        <button mat-menu-item>
          <mat-icon>camera_alt</mat-icon>
          <span>Change Picture</span>
        </button>
        <button mat-menu-item  (click)="onChangePassword()">
          <mat-icon>edit</mat-icon>
          <span>Change Password</span>
        </button>

      </mat-menu>
    </div>
  </div>
  <div *ngIf="profileDetails$ | async as profileDetails">
    <div class="details p-10">
      <p>First Name: {{ profileDetails.firstName }}</p>
      <mat-divider></mat-divider>
      @if(profileDetails.middleName){
      <p>Middle Name: {{ profileDetails.middleName }}</p>
      <mat-divider></mat-divider>
      }
      <p>Last Name: {{ profileDetails.lastName }}</p>
      <mat-divider></mat-divider>
      <p>Role: {{ profileDetails.role }}</p>
      <mat-divider></mat-divider>
      <p>Department: {{ profileDetails.departmentId }}</p>
      <mat-divider></mat-divider>
      <p>Gender: {{ profileDetails.gender }}</p>
      <mat-divider></mat-divider>
      <p>Email: {{ profileDetails.email }}</p>
      <mat-divider></mat-divider>
      <p>Address: {{ profileDetails.addressId }}</p>
      <mat-divider></mat-divider>
      <p>Date of Birth: {{ profileDetails.dob | date }}</p>
      <mat-divider></mat-divider>
      <p>Citizenship No.: {{ profileDetails.citizenshipNo }}</p>
    </div>
  </div>
</div>
